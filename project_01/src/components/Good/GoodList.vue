<template>
	<div>
<!-- <Comment/> -->
<!-- {{page}} -->
<Navbar title='å•†å“åˆ—è¡¨'/>
		<div class='page-loadmore'>
		<div class='page-loadmore-wrapper'>
			<mt-loadmore :bottom-method="loadBottom" @bottom-status-change="handleBottomChange" :bottom-all-loaded="allLoaded" ref="loadmore" :auto-fill='aufill'>
			<ul class='page-loadmore-list'>
				<li v-for='(good,index) in gooslist' :key='good.id'>
					<router-link :to="{name:'good.detail',params:{id:good.id}}">
						<img :src="good.src" alt="">
					<div class='title'>å¥½ä¸œè¥¿</div>
					<div class='desc'>
						<div class='sell'>
							<span>ğŸ’´80</span>
							<s>ğŸ’´9000</s>
						</div>
						<div class='detail'>
							<div class='hot'>
								çƒ­å–ä¸­
							</div>
							<div class='count'>
								å‰©99ğŸ—¡
							</div>
						</div>
					</div>
					</router-link>>
				</li>
<!-- 				<li>
					<a href="" title="">
						<img src="http://i1.whymtj.com/uploads/tu/201904/9999/7ba0b2ba25.jpg" alt="">
					<div class='title'>å¥½ä¸œè¥¿</div>
					<div class='desc'>
						<div class='sell'>
							<span>ğŸ’´80</span>
							<s>ğŸ’´9000</s>
						</div>
						<div class='detail'>
							<div class='hot'>
								çƒ­å–ä¸­
							</div>
							<div class='count'>
								å‰©99ğŸ—¡
							</div>
						</div>
					</div>
					</a>
				</li>
				<li>
					<a href="" title="">
						<img src="http://i1.whymtj.com/uploads/tu/201904/9999/9e19f99c75.jpg" alt="">
					<div class='title'>å¥½ä¸œè¥¿</div>
					<div class='desc'>
						<div class='sell'>
							<span>ğŸ’´80</span>
							<s>ğŸ’´9000</s>
						</div>
						<div class='detail'>
							<div class='hot'>
								çƒ­å–ä¸­
							</div>
							<div class='count'>
								å‰©99ğŸ—¡
							</div>
						</div>
					</div>
					</a>
				</li> -->
			</ul>
		</mt-loadmore>
			
		</div>			
		</div>
	</div>


	<!-- <div>
		<Comment/>
	</div> -->
</template>

<script>
// me-loadmoreä¸­çš„å±æ€§
// 1.bottomLoadå‡½æ•°
// 2.æœºåˆ¶bottomLoadï¼šbottom-all-loadedé»˜è®¤ä¸ºfalseï¼Œå¯ä»¥ä¸Šæ‹‰trueç¦æ­¢ä¸Šæ‹‰
// 3.auto-fillé»˜è®¤ä¸ºtrueï¼Œè‡ªåŠ¨æ£€æµ‹çˆ¶å®¹å™¨ï¼Œå¹¶è°ƒç”¨bottomloadç›´åˆ°æ’‘æ»¡çˆ¶å®¹å™¨ 
// 4.pullæ‹‰åŠ¨æœªæ»¡è¶³70pxï¼Œdropè¾¾åˆ°70pxï¼ŒloadingåŠ è½½ä¸­
// 5.loadmoreç»„ä»¶å¯¹è±¡çš„onBottomLoaded()é€šçŸ¥æ•‘èµloadingè¿›å…¥pullçŠ¶æ€
// 6.åœ¨ç»„ä»¶ä¸Šå†™refåœ¨jsä¸­é€šè¿‡this.$refs.xxxè·å–çš„ç»„ä»¶å¯¹è±¡
// 	é€šè¿‡åœ¨æ™®é€šæ ‡ç­¾å†™refåœ¨jiä¸­é€šè¿‡this.$refs.xxxè·å–çš„domå¯¹è±¡
// 7.ä¸Šæ‹‰åŠ è½½æ›´å¤šå…¬å¼
// è¿›å…¥æ£€æµ‹æœºåˆ¶==ã€‹å¯è§†çš„é«˜åº¦+é¡µé¢å·èµ·çš„é«˜åº¦=è®¾å¤‡çš„é«˜åº¦
export default{
	name:'GoodList',
	data(){
		return{
			aufill:false,
			allLoaded:false,
			min:1,
			page:this.$route.params.page,
			gooslist:[
			{
				id:1,src:'http://p0.so.qhmsg.com/t017d478b5ab2f639ff.jpg'
			},
			{
				id:2,src:'http://p2.so.qhimgs1.com/t010ff03123d1f0206e.jpg'
			},
			{
				id:3,src:'http://p1.so.qhmsg.com/t012c60eb0fe0720396.jpg'
			},
			{
				id:4,src:'http://p1.so.qhmsg.com/t01cf9c1f5418f40266.jpg'
			},
			{
				id:5,src:'http://p1.so.qhimgs1.com/t013b75ed7c0474f4fd.jpg'
			},
			{
				id:6,src:'http://p1.so.qhimgs1.com/t01cce990ae3fa09ed1.jpg'
			},
			{
				id:7,src:'http://p0.so.qhmsg.com/t017abc1de09c20ca55.jpg'
			},
			{
				id:8,src:'http://p0.so.qhimgs1.com/t0140291295363c3da0.jpg'
			},
			{
				id:9,src:'http://p4.so.qhmsg.com/t01ad1434f8b879c959.jpg'
			},
			{
				id:10,src:'http://p2.so.qhimgs1.com/t019116cc5f40220542.jpg'
			},
			{
				id:11,src:'http://p1.so.qhimgs1.com/t01c186aa68a9bf0701.jpg'
			},
			{
				id:12,src:'http://p2.so.qhmsg.com/t01f1dcd1d4ab3cb4b7.jpg'
			},
],
			list:[
						{
				id:1,src:'http://p4.so.qhmsg.com/t013862476b8fbf7969.jpg'
			},
			{
				id:2,src:'http://p2.so.qhimgs1.com/t010ff03123d1f0206e.jpg'
			},
			{
				id:3,src:'http://p1.so.qhmsg.com/t012c60eb0fe0720396.jpg'
			},
			{
				id:4,src:'http://p1.so.qhmsg.com/t01cf9c1f5418f40266.jpg'
			},
			{
				id:5,src:'http://p1.so.qhimgs1.com/t013b75ed7c0474f4fd.jpg'
			},
			{
				id:6,src:'http://p1.so.qhimgs1.com/t01cce990ae3fa09ed1.jpg'
			},
			{
				id:7,src:'http://p0.so.qhmsg.com/t017abc1de09c20ca55.jpg'
			},
			{
				id:8,src:'http://p0.so.qhimgs1.com/t0140291295363c3da0.jpg'
			},
			{
				id:9,src:'http://p4.so.qhmsg.com/t01ad1434f8b879c959.jpg'
			},
			{
				id:10,src:'http://p2.so.qhimgs1.com/t019116cc5f40220542.jpg'
			},
			{
				id:11,src:'http://p1.so.qhimgs1.com/t01c186aa68a9bf0701.jpg'
			},
			{
				id:12,src:'http://p2.so.qhmsg.com/t01f1dcd1d4ab3cb4b7.jpg'
			},



			]


		}
	},
	methods:{
		loadBottom(){
			console.log('diaoyong');
			//ä¸Šæ‹‰åŠ è½½æ•°æ®
			this.loadGoodsByPage();
			this.$refs.loadmore.onBottomLoaded();
		},
		// handleBottomChange(status){
		// 	console.log(status);
		// },


		// loadGoodsByPage(){
		// 	this.$axios.get('getgoods/?pageindex=${this.page}')
		// 	.then(res=>{
		// 		if(this.page==1){
		// 			this.goodsList=res.data.message;
		// 		}else{
		// 			this.goodsList=this.goodsList.concat(res.data.message);
		// 		}
		// 		this.page++;
		// 	})
		// },
		loadGoodsByPage(){
			if(this.min<=10)
			{this.gooslist=this.gooslist.concat(this.list);
			this.min=20;}
		else{
			//ç¦æ­¢åˆ·æ–°åŠ è½½æ•°æ®
			this.allLoaded=true;
			}
		}
		// created(){
		// 	this.loadGoodsByPage();
		// }


	}
	// created(){
	// 	this.$axios.get('getgoods/?pageindex=${this.page}')

	// }
};
</script>

<style scoped>
.title{
	color:#000;
}
.page-loadmore{
	margin-bottom:100px;
}
.page-loadmore-list{
	overflow:hidden;
	height:100%;
}
.page-loadmore-list li{
	width:50%;
	float:left;
	/*padding:6px;
	box-sizing:border-box;*/
}
li>a:not(.mui-btn){
	margin:0px;
	padding:0px;
	border:1px solid #ccc;
	/*box-shadow:0 0 4px #666;*/
	width:100%;
	display:block;
}
li>a:not(.mui-btn)img{
	width:100%;
}
.sell>span{
	float:left;
	color:red;
	text-align:left;
}
.detail>.hot{
	float:left;
	text-align:left;
	font-size:15px;
}
.detail>.count{
	float:right;
	text-align:right;
	font-size:15px;
}
/*æ’‘å¼€ï¼Œå»é™¤æµ®åŠ¨æ²¡æœ‰çš„é«˜åº¦*/
.detail{
	overflow:hidden;
}
.desc{
	color:rgba(92,92,92,0.8);
	background-color:rgba(0,0,0,0.2);
}
img{
	height:200px;
}
.page-loadmore-listitem{
	border-bottom:1px solid #eee;
}
.page-loadmore-listitem{
	height:50px;
	line-height:50px;
	text-align:center
}
.page-loadmore-listitem:first-child{
	border-top:1px solid #eee
}
.page-loadmore-wrapper{
	overflow:scroll
}
.mint-loadmore-bottom span{
	display:inline-block;
	-webkit-transition:.2s linear;
	transition:.2s linear;
	vertical-align:middle
}
.mint-loadmore-bottom span.is-rotate{
	-webkit-transform:rotate(180deg);
	transform:rotate(180deg)
}
	
</style>